
## 1. 技术面因子 (Technical Factors)

| 变量名称 | 公式 (LaTeX) | 简单逻辑 | 详细说明 |
| :--- | :--- | :--- | :--- |
| **ma_5 / 20 / 60** | $MA_n = \frac{1}{n}\sum_{i=1}^{n} C_i$ | 趋势移动平均 | 计算过去 5/20/60 个交易日收盘价的算术平均值，用于平滑价格波动并确认中长期趋势。 |
| **bias_20 / 60** | $Bias_n = \frac{C - MA_n}{MA_n}$ | 价格乖离率 | 衡量当前价格偏离均线的百分比。正值过大代表超买，负值过大代表超跌。 |
| **macd_diff** | $Diff = (EMA_{12} - EMA_{26}) \times 2$ | 趋势动能差 | 计算短期与长期指数平滑移动平均线的差值，反映价格趋势的加速或减速。 |
| **macd_dea** | $DEA = EMA(Diff, 9)$ | 动能平滑线 | 对 Diff 进行 9 日平滑处理，作为 MACD 的信号线，用于判断动能交叉。 |
| **rsi_14** | $100 - \frac{100}{1 + \frac{Mean(Up)}{Mean(Down)}}$ | 强弱相对指标 | 14日内上涨点数与下跌点数的比例。高于 80 为强势超买，低于 20 为弱势超跌。 |
| **boll_upper / lower** | $MA_{20} \pm 2 \sigma_{20}$ | 布林带通道 | 基于 20 日收盘价标准差 ($\sigma$) 构建的压力和支撑轨道，反映价格的波动区间。 |
| **atr_14** | $MA(TR, 14)$ | 平均真实波幅 | 14日内最大波动距离（当天高低差、昨收对比当日高低差）的均值，衡量市场活跃度。 |
| **kdj_k / d / j** | $J = 3K - 2D$ | 随机超买超卖 | $K$ 和 $D$ 是对当前价在 9 日区间位置的两次平滑。$J$ 线通过放大 $K$ 与 $D$ 的差值，灵敏地捕捉波段拐点。 |
| **cci_14** | $\frac{TP - MA}{0.015 \times MD}$ | 顺势波动指标 | 典型价格 ($TP$) 偏离均线的程度。用于捕捉超出正常波动范围（$\pm 100$）的趋势爆发。 |
| **wr_14** | $\frac{H_{14} - C}{H_{14} - L_{14}} \times (-100)$ | 威廉指标 | 衡量当前价在过去 14 日高低区间内的相对位置，主要用于反转信号参考。 |
| **mfi_14** | $100 - \frac{100}{1 + \text{MoneyFlowRatio}}$ | 资金流量指标 | 将价格和成交量结合的 RSI。衡量资金流入（涨时成交）与流出（跌时成交）的力量。 |
| **trix_12** | $\frac{TEMA_t - TEMA_{t-1}}{TEMA_{t-1}}$ | 三重平滑变动 | 对价格进行三次指数平滑后的变化率，旨在过滤虚假信号，捕捉长期趋势。 |
| **vroc_20** | $\frac{V_t}{V_{t-20}} - 1$ | 成交量变动率 | 衡量当前成交量相对于 20 日前的增减幅度，判断趋势是否由量能支撑。 |
| **obv_slope_20** | $\frac{OBV_t - OBV_{t-20}}{20}$ | 能量潮斜率 | 能量潮（成交量累加）的增长速率。斜率为正且上升说明资金在持续流入。 |
| **vwap_bias_20** | $\frac{C - VWAP_{20}}{VWAP_{20}}$ | 量价均值乖离 | 股价偏离“成交量加权平均价”的程度。相比 $MA$ 乖离，更能反映真实成本偏离。 |
| **psy_12** | $\frac{count(C > C_{prev}, 12)}{12} \times 100$ | 心理线指标 | 12日内上涨天数所占比例，从群众心理角度反映市场的过热或过冷。 |
| **ui_14** | $\sqrt{MA(\% \text{Drawdown}^2, 14)}$ | 溃败指数 | 衡量 14 日内价格回撤的深度与频率，反映持有该股的心理压力和波动风险。 |
| **amihud_illiq_20** | $MA(\frac{|Ret|}{Amount}, 20)$ | 非流动性因子 | 单位成交额引起的股价波动百分比。值越高代表流动性越差，冲击成本越高。 |
| **aroon_osc_25** | $AroonUp - AroonDown$ | 阿隆震荡线 | 通过计算 25 日内最高价/最低价出现的远近，衡量趋势的强度及持续性。 |
| **chop_14** | $100 \times \frac{\log_{10}(\sum TR / Range)}{\log_{10}(14)}$ | 市场波动指数 | 比较价格总路径长度与端点距离。高值代表横盘盘整，低值代表趋势运行。 |
| **force_13** | $EMA(V \times \Delta C, 13)$ | 强力指数 | 结合成交量与价格变动的平滑值。反映推动股价移动的真实马力。 |
| **mass_25** | $\sum_{1}^{25} \frac{EMA(H-L, 9)}{EMA(EMA(H-L, 9), 9)}$ | 质量指数 | 监测高低价差（震荡幅度）的扩大或缩窄。波幅异动通常预示趋势反转。 |
| **turnover_std_20**| $\sigma(\text{Turnover}, 20)$ | 换手率波动 | 过去 20 日换手率的标准差。衡量投机活跃度的稳定性或突发性。 |

---

## 2. 动量面因子 (Momentum Factors)

| 变量名称 | 公式 (LaTeX) | 简单逻辑 | 详细说明 |
| :--- | :--- | :--- | :--- |
| **roc_5 / 20 / 60** | $\frac{C_t}{C_{t-n}} - 1$ | 收益变动率 | 衡量过去 5/20/60 个交易日的纯收益百分比，代表动量强度。 |
| **volatility_20** | $\sigma(Ret, 20)$ | 收益率波动率 | 过去 20 个交易日涨跌幅的标准差。反映个股的波动风险水平。 |
| **turnover_mean_5**| $\frac{1}{5}\sum_{i=1}^{5} \text{Turnover}_i$ | 平均换手率 | 近 5 日换手率的均值。反映短期资金参与的热度和流动性。 |
| **amplitude_mean_5**| $\frac{1}{5}\sum_{i=1}^{5} \frac{H-L}{C_{prev}}$ | 平均振幅 | 过去 5 日每日价格波动的平均幅度。振幅放大通常伴随个股异动。 |
| **pos_20 / 60** | $\frac{C - \min(L, n)}{\max(H, n) - \min(L, n)}$ | 价格区间位置 | 当前价处于过去 $n$ 日最高低价区间的相对位置百分比。100% 为新高。 |
| **mom_acc_5** | $ROC_5 - ROC_{5, t-5}$ | 动量加速度 | 五日动量的变化差值。用于判断动能是在增强（加速）还是减弱（减速）。 |
| **vr_26** | $\frac{\sum V_{up} + \frac{1}{2}\sum V_{flat}}{\sum V_{down} + \frac{1}{2}\sum V_{flat}}$ | 成交量比率 | 通过上涨日与下跌日成交量的对比，判断资金进出的博弈强度。 |
| **skew_20** | $\frac{E[(r - \mu)^3]}{\sigma^3}$ | 收益率偏度 | 收益率分布的对称性。正偏说明存在极端上涨日，负偏说明存在暴跌风险。 |
| **kurt_20** | $\frac{E[(r - \mu)^4]}{\sigma^4}$ | 收益率峰度 | 收益率分布的厚尾程度。高峰度意味着个股频繁出现极大的非正常波动。 |

---

## 3. 价值面因子 (Value Factors)

| 变量名称 | 公式 (LaTeX) | 简单逻辑 | 详细说明 |
| :--- | :--- | :--- | :--- |
| **ln_market_cap** | $\ln(\text{Total Market Value})$ | 市值对数 | 对总市值取自然对数，用于衡量公司规模，常用于小市值因子筛选。 |
| **ep_ttm** | $1 / PE_{ttm}$ | 盈利收益率 | 市盈率的倒数。反映每单位价格对应的盈利水平，值越高越具投资价值。 |
| **bp_lr** | $1 / PB$ | 账面市值比 | 市净率的倒数。衡量公司账面资产净值与市场估值的关系。 |
| **sp_ttm** | $1 / PS_{ttm}$ | 收入收益率 | 市销率的倒数。反映公司营业收入对当前股价的支撑程度。 |
| **dividend_yield** | $dv\_ratio$ | 股息率 | 公司分红与股价的比率。是评估个股现金回报能力的核心指标。 |
| **roe_ttm** | $\frac{PB}{PE_{ttm}}$ | 净资产收益率 | 利用 $PB$ 与 $PE$ 的关系推导得出。衡量公司对股东资本的盈利效率。 |
| **pe_zscore_60** | $\frac{PE - \mu(PE_{60})}{\sigma(PE_{60})}$ | PE 相对位置 | 当前 PE 相对于过去 60 日均值的标准差位置。判断当前估值是否偏离历史中轴。 |
| **pb_zscore_60** | $\frac{PB - \mu(PB_{60})}{\sigma(PB_{60})}$ | PB 相对位置 | 当前 PB 相对于过去 60 日均值的标准差位置。寻找估值回归的交易机会。 |